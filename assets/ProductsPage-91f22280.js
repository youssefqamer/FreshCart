import{p as a,C as k,r as b,j as e,S as L,a as R,P as q,b as F,L as z}from"./index-4c07a1a9.js";import{n as E}from"./no-product-3960b5ae.js";const C=({limit:i,sort:c,selectedCategories:t,PriceLowerThan:x,handleLimit:u,handleSort:p,handlePriceLowerThan:m,handleChackedCategories:l})=>{var j,f,v;const[o,g]=k(),[r,P]=b.useState(""),[s,d]=b.useState(null),h=()=>{P(window.innerWidth)};return b.useEffect(()=>(window.addEventListener("resize",h),h(),()=>window.removeEventListener("resize",h)),[]),b.useEffect(()=>{r>1200?d(!0):d(null)},[r]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`side-filter-icon ${r>1200||r===""||s&&r<1200?"d-none":"d-flex"} `,onClick:()=>d(!0),children:e.jsx("i",{className:"fa-solid fa-bars fs-4 "})}),e.jsxs("div",{className:`${r>1200?"d-block":s===null&&r<1200?"d-none":s?"side-filter-container-open ":"side-filter-container-close "} 
  } rounded-3 ${r<1200?"bg-white shadow px-2 py-3":""} `,children:[r<1200?e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[g?"":e.jsx("p",{className:"fw-bold ",children:"Categories"}),e.jsx("i",{className:"fa-solid fa-circle-xmark fs-3 ",style:{cursor:"pointer"},onClick:()=>d(!1)})]}):g?"":e.jsx("p",{className:"fw-bold ",children:"Categories"}),(j=o==null?void 0:o.data)!=null&&j.data?e.jsxs("label",{className:"category-container d-flex align-items-center flex-wrap my-3 ",style:{fontSize:"15px"},children:[e.jsx("input",{type:"checkbox",value:"0",onChange:l}),e.jsx("div",{className:"checkmark mx-1"}),"All"]}):e.jsx(L,{}),o?(v=(f=o==null?void 0:o.data)==null?void 0:f.data)==null?void 0:v.map((n,N)=>{const w=t.includes(n==null?void 0:n._id);return e.jsxs("label",{className:"category-container d-flex align-items-center flex-wrap my-3 ",style:{fontSize:"15px"},children:[e.jsx("input",{type:"checkbox",value:n==null?void 0:n._id,onChange:l,checked:w}),e.jsx("div",{className:"checkmark mx-1 "}),n==null?void 0:n.name]},N)}):"",e.jsx("hr",{}),e.jsx("p",{className:"fw-bold",children:"Sort by"}),e.jsxs("select",{className:"select mt-3 px-2 mb-1  mb-3",onChange:p,value:c,children:[e.jsx("option",{value:"",children:"random"}),e.jsx("option",{value:"+price",children:"price: from low to high"}),e.jsx("option",{value:"-price",children:"price: from high to low"}),e.jsx("option",{value:"-ratingsAverage",children:"top rated"}),e.jsx("option",{value:"-sold",children:"best seller"})]}),e.jsx("hr",{}),e.jsx("p",{className:"fw-bold",children:"Price "}),e.jsxs("div",{className:"form-group d-flex flex-wrap  align-items-center ",children:[e.jsx("label",{htmlFor:"lower",children:"Lower than: "}),e.jsx("input",{id:"lower",type:"text",inputMode:"numeric",pattern:"[0-9]*",className:"form-control ms-1",style:{width:"72px"},value:x,onChange:m})]}),e.jsx("hr",{}),e.jsxs("div",{children:[e.jsx("p",{className:"fw-bold ",children:"Product per page: "}),e.jsxs("select",{className:"select  px-2",onChange:u,value:i,children:[e.jsx("option",{value:"40",children:"40"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"15",children:"15"})]})]})]})]})};C.propTypes={limit:a.PropTypes.string.isRequired,sort:a.PropTypes.string.isRequired,PriceLowerThan:a.PropTypes.string.isRequired,selectedCategories:a.PropTypes.array.isRequired,handleLimit:a.PropTypes.func.isRequired,handleSort:a.PropTypes.func.isRequired,handleChackedCategories:a.PropTypes.func.isRequired,handlePriceLowerThan:a.PropTypes.func.isRequired};const y=({currentPage:i,totalPages:c,onPageChange:t})=>{const x=()=>{const m=[];for(let l=1;l<=c;l++)m.push(e.jsx("li",{className:`page-item ${i===l?"active":""}`,onClick:()=>t(l),children:l},l));return m},u=()=>{i>1&&t(i-1)},p=()=>{i<c&&t(i+1)};return e.jsxs("ul",{className:"pagination mt-5",children:[e.jsx("li",{className:`page-item ${i===1?"disabled":""}`,onClick:u,children:e.jsx("i",{className:"fas fa-chevron-left"})}),x(),e.jsx("li",{className:`page-item ${i===c?"disabled":""}`,onClick:p,children:e.jsx("i",{className:"fas fa-chevron-right"})})]})};y.propTypes={currentPage:a.PropTypes.number.isRequired,totalPages:a.PropTypes.number.isRequired,onPageChange:a.PropTypes.func.isRequired};const O=()=>{var d,h,j,f,v,n,N,w;const[i,c,t,x,u,p,m,l,o,g,r,P]=R(),[s]=q(p,i,c,t,m);return document.title="Products",e.jsx(e.Fragment,{children:e.jsxs("div",{className:"container-fluid  py-5 p-5  mb-5",children:[e.jsxs("div",{className:" row",children:[e.jsx("div",{className:"col-xl-2    ",children:e.jsx("div",{children:e.jsx(C,{limit:i,sort:c,selectedCategories:u,PriceLowerThan:x,handleLimit:o,handleSort:g,handlePriceLowerThan:r,handleChackedCategories:P})})}),e.jsx("div",{className:"col-xl-10   ",children:e.jsx("div",{children:s?e.jsx("div",{className:"row",children:((h=(d=s==null?void 0:s.data)==null?void 0:d.data)==null?void 0:h.length)>0?(f=(j=s==null?void 0:s.data)==null?void 0:j.data)==null?void 0:f.map((T,S)=>e.jsx("div",{className:"col-lg-2 col-md-3 col-sm-6",children:e.jsx(F,{products:T})},S)):e.jsxs("div",{className:"m-auto text-center no-products",children:[e.jsx("img",{src:E,alt:"",className:"w-100   mb-1"}),e.jsx("p",{className:"fw-bold fs-4",children:"No Products Avaliable"})]})}):e.jsx(z,{})})})]}),((n=(v=s==null?void 0:s.data)==null?void 0:v.metadata)==null?void 0:n.numberOfPages)>1?e.jsx(y,{currentPage:p,totalPages:(w=(N=s==null?void 0:s.data)==null?void 0:N.metadata)==null?void 0:w.numberOfPages,onPageChange:l}):""]})})};export{O as default};
