import{c as b,u as P,U as C,r as N,G as w,W as D,A as S,j as s,L as T,d as k,b as W,S as A,O as E,D as F}from"./index-4c07a1a9.js";const G=()=>{const{id:a}=b(),i=t=>C(`api/v1/products/${t}`);let{data:n,isLoading:c}=P(["details",a],()=>i(a),{cacheTime:500});return[n,c,i]},U=a=>{const[i,n]=N.useState([]),c=async e=>{if(e)return C(`/api/v1/products?category=${e}`)},{data:t}=P(["relativeProducts",a],()=>c(a));return N.useEffect(()=>{var e,l;t&&n((l=(e=t==null?void 0:t.data)==null?void 0:e.data)==null?void 0:l.slice(0,12))},[t]),[i]},O=()=>{var m,u,x,h,j,g,p,f,y,v;const{id:a}=b(),[i]=w(),[n,c]=D(a,i==null?void 0:i.data),[t]=S(),[e,l]=G(),[r]=U((x=(u=(m=e==null?void 0:e.data)==null?void 0:m.data)==null?void 0:u.category)==null?void 0:x._id),L={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3,draggable:!0,fade:!1,className:"grap"};return s.jsx(s.Fragment,{children:l?s.jsx(T,{}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"col-md-4 mb-5",children:s.jsx("div",{children:s.jsx(k,{...L,children:(j=(h=e==null?void 0:e.data)==null?void 0:h.data)==null?void 0:j.images.map((o,d)=>s.jsx("img",{style:{cursor:"grab",maxWidth:"100%"},src:o,alt:""},d))})})}),s.jsx("div",{className:"col-md-8",children:s.jsxs("div",{children:[s.jsxs("div",{className:"d-flex justify-content-between align-align-items-center",children:[s.jsx("h2",{children:(g=e==null?void 0:e.data)==null?void 0:g.data.title}),n?s.jsx("i",{className:"fa-solid fa-heart fs-5 text-main",style:{cursor:"pointer"},onClick:c}):s.jsx("i",{className:"fa-regular fa-heart",style:{cursor:"pointer"},onClick:c})]}),s.jsx("p",{children:(p=e==null?void 0:e.data)==null?void 0:p.data.description}),s.jsx("p",{children:(f=e==null?void 0:e.data)==null?void 0:f.data.category.name}),s.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[s.jsxs("h5",{children:[(y=e==null?void 0:e.data)==null?void 0:y.data.price," EGP"]}),s.jsxs("h5",{children:[s.jsx("i",{className:"fa fa-star rating-color"}),s.jsxs("span",{children:["(",(v=e==null?void 0:e.data)==null?void 0:v.data.ratingsAverage,")"]})]})]}),s.jsx("button",{className:"btn bg-main w-100 text-white",onClick:()=>t(a),children:"Add to cart"})]})}),(r==null?void 0:r.length)>0?s.jsx("p",{className:"my-5 fw-bold ",children:"Products you may like"}):"",r?r==null?void 0:r.map((o,d)=>s.jsx("div",{className:"col-lg-2 col-md-3 col-sm-6",children:s.jsx(W,{products:o})},d)):s.jsx(A,{})]})})},_=()=>(document.title="Product Details",s.jsxs(s.Fragment,{children:[s.jsx(E,{children:s.jsx(F,{})}),s.jsx("div",{className:"container py-5",children:s.jsx("div",{className:"row align-items-center",children:s.jsx(O,{})})})]}));export{_ as default};
